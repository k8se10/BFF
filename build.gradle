plugins {
    id 'fabric-loom' version '1.6.12'
    id 'maven-publish'
}

group = 'net.mod.buildcraft'
version = '0.1.0+1.20.4'
archivesBaseName = 'buildcraft-fabric'

java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(17)
    }
    withSourcesJar()
}

repositories {
    mavenCentral()
    maven { url = 'https://maven.fabricmc.net/' }
    maven { url = 'https://maven.terraformersmc.com/releases/' }
    maven { url = 'https://maven.ladysnake.org/releases' } // if needed by any deps
    maven { url = 'https://repo.spongepowered.org/repository/maven-public/' } // safe to keep
}

dependencies {
    minecraft "com.mojang:minecraft:1.20.4"

    // Use layered mappings: official + Yarn (no weird 'layered+hash' string)
    mappings(loom.layered() {
        officialMojangMappings()
        yarn("net.fabricmc:yarn:1.20.4+build.3:v2")
    })

    modImplementation "net.fabricmc:fabric-loader:0.15.10"
    modImplementation "net.fabricmc.fabric-api:fabric-api:0.97.0+1.20.4"

    // MixinExtras (Fabric)
    modImplementation "io.github.llamalad7:mixinextras-fabric:0.3.2"
    annotationProcessor "io.github.llamalad7:mixinextras-common:0.3.2"
}

loom {

::contentReference[oaicite:0]{index=0}
